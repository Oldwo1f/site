<div class="row">
	<div class="col-xs-9">
		<button type="button" class="btn btn-info btn-xs" ng-click="linkadd();"><span class="glyphicon glyphicon-plus"></span>Ajouter</button>

		<button  type="button" class="btn btn-primary btn-xs" ng-show="totalChecked() === 1" ng-click="linkedit();" ><span class="glyphicon glyphicon-edit"></span>Editer</button>
		<button  type="button" class="btn btn-primary btn-xs" ng-show="totalChecked() === 1" ng-click="linkTopic();" ><span class="glyphicon glyphicon-edit"></span>Voir les messages</button>
		<button ng-show="totalChecked()" ng-click="changestatus('résolu')" type="button" class="btn btn-success btn-xs"><span class="glyphicon glyphicon-save"></span>Marquer comme "résolu"</button>
		<button ng-show="totalChecked()" ng-click="changestatus('en discussion')" type="button" class="btn btn-warning btn-xs"><span class="glyphicon glyphicon-open"></span>Marquer comme "en discussion"</button>
		<removeremove action="removeselected" ng-show="totalChecked()"></removeremove>
		<div  class="nbselected ">
			<ng-pluralize class="small"  count="totalChecked()"  when="{'0': 'Aucun topic séléctionné','1': '{{totalChecked()}} topic séléctionné','other': '{{totalChecked()}} topics séléctionnés'}" </ng-pluralize>
		</div>
	</div>
	<div class="col-xs-3 pull-right">
		<input type="search" class=" form-control input-sm" ng-model="slug" placeholder="Recherche . . ." />
		<div class="FilterBox">
			<span class="label label-success" ><input type="checkbox" ng-model="filterActif" ng-change="filterMainArray()"><label for="">résolu</label></span>
			<span class="label label-warning" ><input type="checkbox" ng-model="filterInactif" ng-change="filterMainArray()"><label for="">en discussion</label></span>
			<span class="label label-info" ><input type="checkbox" ng-model="filterNew" ng-change="filterMainArray()"><label for="">new</label></span>
		</div>
	</div>
</div>


<table class="table table-striped">
	<thead>
		<tr>
	    	<th class="thsbox"><input type="checkbox" ng-model="allChecked" ng-click="toggleAllcheck()"></th>
	    	<th class="thtitle" ng-click="order ='title';reverse=!reverse; " style="cursor:pointer">Titre<span ng-show="order==='title' && reverse===false" class="caret"></span><span class="dropup"><span ng-show="order==='title' && reverse===true" class=" caret"></span></span></th>
	    	<th class="thdate" ng-click="order ='answers';reverse=!reverse; " style="cursor:pointer">Nb réponses<span ng-show="order==='answers' && reverse===false" class="caret"></span><span class="dropup"><span ng-show="order==='answers' && reverse===true" class=" caret"></span></span></th>
	    	<th class="thkeyword" ng-click="order ='author';reverse=!reverse; " style="cursor:pointer">Auteur<span ng-show="order==='author' && reverse===true" class="caret"></span><span class="dropup"><span ng-show="order==='author' && reverse===false" class=" caret"></span></span></th>
	    	<th class="thkeyword" ng-click="order ='keyword';reverse=!reverse; " style="cursor:pointer">Mots clefs<span ng-show="order==='keyword' && reverse===false" class="caret"></span><span class="dropup"><span ng-show="order==='keyword' && reverse===true" class=" caret"></span></span></th>
	    	<th class="thdate" ng-click="order ='createdAt';reverse=!reverse; " style="cursor:pointer">Date<span ng-show="order==='createdAt' && reverse===false" class="caret"></span><span class="dropup"><span ng-show="order==='createdAt' && reverse===true" class=" caret"></span></span></th>
	    	<th class="thstatus" ng-click="order ='status';reverse=!reverse; " style="cursor:pointer">Status<span ng-show="order==='status' && reverse===false" class="caret"></span><span class="dropup"><span ng-show="order==='status' && reverse===true" class=" caret"></span></span></th>
		</tr>
	</thead>
	<tbody >
		
	    <tr ng-repeat="topic in topics | filter:topicfilter | filter:getCat | orderBy:sortFunction:reverse " class="animate-repeat ligne" rel="{{topic.id}}"  >
	    		<td >
	    			<input type="checkbox" ng-model="topic.checked" >
	    		</td>
		    	<td ng-dblClick="linkTopic(topic.id)" class='pointer'>{{topic.title}}</td>
		    	<td ng-dblClick="linkTopic(topic.id)" class='pointer'>{{topic.answers.length}}</td>
		    	<td ng-dblClick="linkTopic(topic.id)" class="tableimg pointer" >
			    		<img  ng-if="topic.owner.images[0]" ng-src="file/image/thumbs/{{topic.owner.images[0].filename}}"  width="30" height="30" alt="">
		    		<span ng-if="topic.owner.name">{{topic.owner.name}}</span>
		    		<span ng-if="!topic.owner.name">{{topic.owner.email}}</span>
		    	</td>
		    	<td ng-dblClick="linkTopic(topic.id)" class='pointer'>{{topic.keyword}}</td>
		    	<td ng-dblClick="linkTopic(topic.id)" class='pointer'>{{topic.createdAt | date:'dd MMMM'}}</td>
		    	<td  class='pointer' >
		    		<span class="label" ng-class="{'label-success': topic.status==='résolu','label-warning': topic.status==='en discussion','label-info': topic.status==='new'}"><label >{{topic.status}}</label></span>
		    	</td>
	    	
	    </tr>
	    
	</tbody>
</table>
<!---->
<div ui-view="edittopicView"></div>
<div ui-view="editimagestopicsView"></div>
<div ui-view="addtopicView"></div>

